"use strict";window.jsmvc||(window.jsmvc={}),jsmvc.modelPropertyDescriptors={definedBy_modelPropertyDescriptors:{value:!0},propertyData:{writable:!0},setProperty:{value:function(o,t,e,r){var i=1<arguments.length&&void 0!==t?t:this[o],s=2<arguments.length&&void 0!==e?e:function(t,e){return e()},p=3<arguments.length&&void 0!==r?r:function(t){return t()},a=Object.getOwnPropertyDescriptor(this,o);return a&&(a.get||a.set)||(void 0!==i&&(this.propertyData||(this.propertyData={}),this.propertyData[o]=i),delete this[o],Object.defineProperty(this,o,{configurable:!0,enumerable:!0,set:function(t){var e,r=this;this.propertyData&&this.propertyData[o]===t||(this.propertyData&&void 0!==this.propertyData[o]&&(e=this.propertyData[o]),s.call(this,t,function(){r.propertyData||(r.propertyData={}),r.propertyData[o]=t,r.definedBy_eventfulPropertyDescriptors&&(r.triggerEvents("change",o,t,e),r.triggerEvents("change:".concat(o),t,e))}))},get:function(){var t=this;return p.call(this,function(){if(t.propertyData)return t.propertyData[o]})}})),this}},unsetProperty:{value:function(t){var e,r=Object.getOwnPropertyDescriptor(this,t);r&&(r.get||r.set)&&(this.propertyData&&(e=this.propertyData[t]),delete this.propertyData[t],delete this[t],void 0!==e&&(this[t]=e));return this}},toJSON:{value:function(){var t=Object.assign({},this.propertyData);for(var e in t)t[e].definedBy_modelPropertyDescriptors&&(t[e]=t[e].toJSON()),t[e].definedBy_collectionPropertyDescriptors&&(t[e]=t[e].toArray());return t}}},jsmvc.model=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};for(var e in jsmvc.eventful&&(t=jsmvc.eventful(t)),t.definedBy_modelPropertyDescriptors||Object.defineProperties(t,jsmvc.modelPropertyDescriptors),t)t.setProperty(e);return t};